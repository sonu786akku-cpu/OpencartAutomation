<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
<Properties>

<Property name ="logPath">./logs</Property>
</Properties>

    <Appenders>

        <!-- Console Appender -->
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%t] %c{1} - %msg%n"/>
        </Console>

        <!-- Rolling File Appender -->
        <RollingFile 
                name="FileLogger"
                fileName="${logPath}/application.log"
                filePattern="${logPath}/application-%d{yyyy-MM-dd}-%i.log.gz">
            
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%t] %c{1} - %msg%n"/>
            
            <Policies>
                <!-- Roll file daily -->
                <TimeBasedTriggeringPolicy interval="1" modulate="true"/>

                <!-- Roll file when size exceeds 10 MB -->
                <SizeBasedTriggeringPolicy size="10MB"/>
            </Policies>

            <!-- Keep max 10 rolled files -->
            <DefaultRolloverStrategy max="10"/>
        </RollingFile>

    </Appenders>

    <Loggers>
        <Root level="info">
        
            <AppenderRef ref="FileLogger"/>
        </Root>
    </Loggers>

</Configuration>